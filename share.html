<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- üîπ Default SEO (fallback) -->
<title>‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º | ‡§§‡§æ‡§ú‡§º‡§æ ‡§ñ‡§¨‡§∞‡•á‡§Ç</title>
<meta name="description" content="‡§≠‡§æ‡§∞‡§§ ‡§ï‡•Ä ‡§§‡§æ‡§ú‡§º‡§æ ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§™‡§¢‡§º‡•á‡§Ç‡•§">

<!-- üîπ Open Graph (Facebook, WhatsApp, Telegram) -->
<meta property="og:type" content="article">
<meta property="og:title" content="‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º">
<meta property="og:description" content="‡§§‡§æ‡§ú‡§º‡§æ ‡§ñ‡§¨‡§∞‡•á‡§Ç ‡§™‡§¢‡§º‡•á‡§Ç">
<meta property="og:image" content="https://via.placeholder.com/600x315">
<meta property="og:url" content="">

<!-- üîπ Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º">
<meta name="twitter:description" content="‡§§‡§æ‡§ú‡§º‡§æ ‡§ñ‡§¨‡§∞‡•á‡§Ç ‡§™‡§¢‡§º‡•á‡§Ç">
<meta name="twitter:image" content="https://via.placeholder.com/600x315">

<style>
body{
  font-family:Arial;
  background:#f5f5f5;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  margin:0;
}
.box{
  background:#fff;
  padding:20px;
  border-radius:8px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
  text-align:center;
}
</style>
</head>

<body>
<div class="box">
  üîÑ ‡§ñ‡§¨‡§∞ ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à...
</div>

<script type="module">
import { db } from "./firebase.js";
import { doc, getDoc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

const params = new URLSearchParams(window.location.search);
const id = params.get("id");

if(!id){
  document.body.innerHTML = "‚ùå News not found";
}else{
  const ref = doc(db, "news", id);
  const snap = await getDoc(ref);

  if(!snap.exists()){
    document.body.innerHTML = "‚ùå News not found";
  }else{
    const d = snap.data();

    // üîπ Dynamic SEO
    document.title = d.title;
    document.querySelector("meta[name='description']").content =
      d.content.substring(0,150);

    document.querySelector("meta[property='og:title']").content = d.title;
    document.querySelector("meta[property='og:description']").content =
      d.content.substring(0,150);
    document.querySelector("meta[property='og:image']").content =
      d.image || "https://via.placeholder.com/600x315";
    document.querySelector("meta[property='og:url']").content =
      window.location.href;

    document.querySelector("meta[name='twitter:title']").content = d.title;
    document.querySelector("meta[name='twitter:description']").content =
      d.content.substring(0,150);
    document.querySelector("meta[name='twitter:image']").content =
      d.image || "https://via.placeholder.com/600x315";

    // üîÅ Redirect to actual news page
    setTimeout(()=>{
      window.location.href = `news.html?id=${id}`;
    }, 1200);
  }
}
</script>

</body>
</html>
